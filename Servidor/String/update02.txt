ALTER TABLE AUTOGRAFOS ADD CARTAO BLOB SEGMENT SIZE 1;

DROP VIEW VAUTOGRAFOS;
CREATE VIEW VAUTOGRAFOS(
  CODIGO,
  NOME,
  ENDERECO,
  NUMERO,
  BAIRRO,
  NASCIMENTO,
  RG_IE,
  CPF_CNPJ,
  PROFISSAO,
  NACIONALIDADE,
  CADASTRO,
  CELULAR,
  EMAIL,
  CEP,
  CODCIDADE,
  CIDADE,
  UF,
  PESSOA,
  TELEFONE,
  CODESTADOCIVIL,
  ESTADOCIVIL,
  SEQ,
  IMAGEM1,
  IMAGEM2,
  IMAGEM3,
  IMAGEM4,
  CONJUGE,
  CODREGIMECASAMENTO,
  REGIMECASAMENTO,
  REGISTROCASAMENTO,
  ORGEXP,
  CARTAO)
AS
SELECT
  AUTOGRAFOS.CODIGO,
  AUTOGRAFOS.NOME,
  AUTOGRAFOS.ENDERECO,
  AUTOGRAFOS.NUMERO,
  AUTOGRAFOS.BAIRRO,
  AUTOGRAFOS.NASCIMENTO,
  AUTOGRAFOS.RG_IE,
  AUTOGRAFOS.CPF_CNPJ,
  AUTOGRAFOS.PROFISSAO,
  AUTOGRAFOS.NACIONALIDADE,
  AUTOGRAFOS.CADASTRO,
  AUTOGRAFOS.CELULAR,
  AUTOGRAFOS.EMAIL,
  AUTOGRAFOS.CEP,
  AUTOGRAFOS.CIDADE AS CODCIDADE,
  CIDADE.NOME AS CIDADE,
  CIDADE.UF,
  AUTOGRAFOS.PESSOA,
  AUTOGRAFOS.TELEFONE,
  AUTOGRAFOS.ESTADOCIVIL AS CODSTADOCIVIL,
  CASE AUTOGRAFOS.ESTADOCIVIL WHEN 0 THEN 'SOLTEIRO(A)'
                              WHEN 1 THEN 'CASADO(A)'
                              WHEN 2 THEN 'DIVORCIADO(A)'
                              WHEN 3 THEN 'VIUVO(A)' END AS ESTADOCIVIL,
  AUTOGRAFOS.SEQ,
  AUTOGRAFOS.IMAGEM1,
  AUTOGRAFOS.IMAGEM2,
  AUTOGRAFOS.IMAGEM3,
  AUTOGRAFOS.IMAGEM4,
  AUTOGRAFOS.CONJUGE,
  AUTOGRAFOS.REGIMECASAMENTO AS CODREGIMECASAMENTO,
  CASE AUTOGRAFOS.REGIMECASAMENTO WHEN 0 THEN 'COMUNHAO PARCIAL DE BENS'
                                  WHEN 1 THEN 'COMUNHAO TOTAL DE BENS'
                                  WHEN 2 THEN 'SEPARACAO TOTAL DE BENS'
                                  WHEN 3 THEN 'PARTICIPACAO FINAL NOS AQUESTOS' END AS REGIMECASAMENTO,
  AUTOGRAFOS.REGISTROCASAMENTO,
  AUTOGRAFOS.ORGEXP,
  AUTOGRAFOS.CARTAO
  FROM AUTOGRAFOS
  INNER JOIN CIDADE ON (CIDADE.CODIGO = AUTOGRAFOS.CIDADE)
;